[gd_scene load_steps=24 format=3 uid="uid://bjtkbwi2b87ws"]

[ext_resource type="Script" path="res://Scripts/Tools/Main.gd" id="1_jlg1y"]
[ext_resource type="Script" path="res://Scripts/Tools/CameraShake.gd" id="2"]
[ext_resource type="PackedScene" uid="uid://ke83lndodr8n" path="res://Scenes/MainMenu.tscn" id="3"]
[ext_resource type="Script" path="res://Scripts/Tools/Game.gd" id="3_kenll"]
[ext_resource type="Script" path="res://Scripts/Clouds.gd" id="3_td4ku"]
[ext_resource type="Script" path="res://Scripts/Tools/StateMachine.gd" id="4"]
[ext_resource type="PackedScene" uid="uid://51g21iwaqggp" path="res://Objects/Player/Player.tscn" id="4_0phv3"]
[ext_resource type="PackedScene" uid="uid://c0jc2f3p3a1ks" path="res://Objects/Clouds/Cloud.tscn" id="4_4ri8c"]
[ext_resource type="PackedScene" uid="uid://bcaue8so15dgx" path="res://Scenes/GameOverlay.tscn" id="5"]
[ext_resource type="PackedScene" uid="uid://b0tr484jifhat" path="res://Objects/Tilemap/Block1.tscn" id="6_m2m16"]
[ext_resource type="Script" path="res://Scripts/Tools/Process.gd" id="6_m6gji"]
[ext_resource type="PackedScene" uid="uid://ta3rx0s4lpew" path="res://Objects/Spawn/Spawn.tscn" id="6_me2ip"]
[ext_resource type="PackedScene" uid="uid://d3clocpmejs8o" path="res://Objects/Tilemap/Block2.tscn" id="7_7wolc"]
[ext_resource type="PackedScene" uid="uid://c3nl7qrkm777s" path="res://Objects/Monster/MonsterSlime.tscn" id="7_30qlw"]
[ext_resource type="PackedScene" uid="uid://b50827npty5vl" path="res://Objects/Tilemap/Block3.tscn" id="8_5jqpj"]
[ext_resource type="PackedScene" uid="uid://r30r20pijuq4" path="res://Objects/Tilemap/Block4.tscn" id="9_th4os"]
[ext_resource type="PackedScene" uid="uid://bnqkryx7vvxnj" path="res://Objects/Tilemap/Block5.tscn" id="10_y2qfy"]
[ext_resource type="PackedScene" uid="uid://deiedo4315ugn" path="res://Objects/Tilemap/Block6.tscn" id="11_clxab"]
[ext_resource type="PackedScene" uid="uid://dt075cecoki4n" path="res://Objects/Tilemap/Block7.tscn" id="12_bfsv6"]
[ext_resource type="PackedScene" uid="uid://b8xa8tkla8afo" path="res://Scenes/DeathOverlay.tscn" id="18_1gcbc"]

[sub_resource type="TileSet" id="TileSet_k4dyg"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 8
physics_layer_0/collision_mask = 2

[sub_resource type="TileSet" id="TileSet_n4ir7"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Terrain 0"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)

[sub_resource type="Environment" id="1"]
background_mode = 4
background_canvas_max_layer = 1
glow_enabled = true
glow_levels/4 = 1.0
glow_intensity = 5.06
glow_strength = 1.42
glow_blend_mode = 1

[node name="Main" type="Node"]
process_mode = 3
editor_description = "Glues process.gd and game.gd together with the game state. Add pause and transition logic here."
script = ExtResource("1_jlg1y")

[node name="GameState" type="Node" parent="."]
process_mode = 3
editor_description = "Handles basic game state like 'Menu', 'Game Running', 'Paused'. Runs while the game is paused. Used in main.gd and glues progess.gd and game.gd together."
script = ExtResource("4")

[node name="Clouds" type="Node2D" parent="."]
process_mode = 3
script = ExtResource("3_td4ku")
cloud_scene = ExtResource("4_4ri8c")

[node name="Game" type="Node2D" parent="."]
process_mode = 1
editor_description = "Nodes in Game will not run while the game is paused. This affects _process(), _input() and _unhandled_input(). Add game logic, ingame ui, levels and ingame sound here."
script = ExtResource("3_kenll")
player_scene = ExtResource("4_0phv3")
monster_scene = ExtResource("7_30qlw")
spawn_scene = ExtResource("6_me2ip")
block_scenes = Array[PackedScene]([ExtResource("6_m2m16"), ExtResource("7_7wolc"), ExtResource("8_5jqpj"), ExtResource("9_th4os"), ExtResource("10_y2qfy"), ExtResource("11_clxab"), ExtResource("12_bfsv6")])

[node name="GroundTilemap" type="TileMap" parent="Game"]
tile_set = SubResource("TileSet_k4dyg")
format = 2
layer_0/tile_data = PackedInt32Array(131072, 196608, 5, 196608, 196608, 5, 262144, 131072, 5, 327680, 196608, 5, 393216, 196608, 5, 458752, 0, 5, 524288, 0, 5, 65537, 65536, 5, 131073, 65536, 5, 196609, 65536, 5, 262145, 0, 5, 327681, 0, 5, 393217, 0, 5, 458753, 131072, 5, 524289, 131072, 5, 589825, 131072, 5, 65538, 131072, 5, 131074, 65536, 5, 196610, 0, 5, 262146, 65536, 5, 327682, 196608, 5, 393218, 0, 5, 458754, 131072, 5, 524290, 65536, 5, 589826, 131072, 5, 65539, 0, 5, 131075, 65536, 5, 196611, 0, 5, 262147, 65536, 5, 327683, 131072, 5, 393219, 0, 5, 458755, 65536, 5, 524291, 65536, 5, 589827, 196608, 5, 65540, 65536, 5, 131076, 131072, 5, 196612, 196608, 5, 262148, 131072, 5, 327684, 0, 5, 393220, 196608, 5, 458756, 131072, 5, 524292, 196608, 5, 65541, 196608, 5, 131077, 196608, 5, 196613, 131072, 5, 262149, 196608, 5, 327685, 196608, 5, 393221, 65536, 5, 458757, 196608, 5, 524293, 0, 5, 65542, 65536, 5, 131078, 0, 5, 196614, 65536, 5, 262150, 0, 5, 327686, 196608, 5, 393222, 196608, 5, 458758, 131072, 5, 65543, 131072, 5, 131079, 65536, 5, 196615, 65536, 5, 262151, 196608, 5, 327687, 0, 5, 393223, 65536, 5, 589831, 65536, 5, 65544, 196608, 5, 131080, 0, 5, 196616, 196608, 5, 262152, 196608, 5, 327688, 65536, 5, 524296, 65536, 5, 589832, 196608, 5, 65545, 196608, 5, 131081, 0, 5, 196617, 196608, 5, 262153, 196608, 5, 458761, 196608, 5, 524297, 131072, 5, 589833, 131072, 5, 65546, 196608, 5, 131082, 131072, 5, 196618, 131072, 5, 393226, 196608, 5, 458762, 65536, 5, 524298, 131072, 5, 589834, 196608, 5, 65547, 196608, 5, 131083, 196608, 5, 327691, 131072, 5, 393227, 196608, 5, 458763, 196608, 5, 524299, 131072, 5, 589835, 65536, 5, 262156, 65536, 5, 327692, 65536, 5, 393228, 196608, 5, 458764, 131072, 5, 524300, 65536, 5, 196621, 0, 5, 262157, 131072, 5, 327693, 196608, 5, 393229, 0, 5, 458765, 196608, 5, 524301, 65536, 5, 131086, 131072, 5, 196622, 196608, 5, 262158, 65536, 5, 327694, 0, 5, 393230, 0, 5, 458766, 0, 5, 524302, 131072, 5, 131087, 65536, 5, 196623, 131072, 5, 262159, 196608, 5, 327695, 131072, 5, 393231, 65536, 5, 458767, 0, 5, 524303, 131072, 5, 65552, 196608, 5, 131088, 0, 5, 196624, 0, 5, 262160, 65536, 5, 327696, 0, 5, 393232, 65536, 5, 458768, 0, 5, 65553, 196608, 5, 131089, 131072, 5, 196625, 196608, 5, 262161, 65536, 5, 327697, 131072, 5, 393233, 196608, 5, 589841, 196608, 5, 65554, 65536, 5, 131090, 196608, 5, 196626, 0, 5, 262162, 65536, 5, 327698, 65536, 5, 524306, 131072, 5, 589842, 196608, 5, 65555, 0, 5, 131091, 196608, 5, 196627, 0, 5, 262163, 65536, 5, 458771, 196608, 5, 524307, 65536, 5, 589843, 0, 5, 65556, 131072, 5, 131092, 131072, 5, 196628, 65536, 5, 393236, 0, 5, 458772, 65536, 5, 524308, 131072, 5, 589844, 65536, 5, 65557, 196608, 5, 131093, 131072, 5, 327701, 196608, 5, 393237, 65536, 5, 458773, 196608, 5, 524309, 65536, 5, 589845, 0, 5, 65558, 0, 5, 262166, 196608, 5, 327702, 65536, 5, 393238, 0, 5, 458774, 196608, 5, 524310, 65536, 5, 589846, 65536, 5, 196631, 196608, 5, 262167, 65536, 5, 327703, 65536, 5, 393239, 131072, 5, 458775, 196608, 5, 524311, 0, 5, 589847, 0, 5, 131096, 131072, 5, 196632, 0, 5, 262168, 0, 5, 327704, 65536, 5, 393240, 196608, 5, 458776, 196608, 5, 524312, 131072, 5, 589848, 65536, 5, 65561, 196608, 5, 131097, 0, 5, 196633, 0, 5, 262169, 131072, 5, 327705, 196608, 5, 393241, 131072, 5, 458777, 0, 5, 524313, 131072, 5, 589849, 131072, 5, 65562, 131072, 5, 131098, 65536, 5, 196634, 65536, 5, 262170, 131072, 5, 327706, 196608, 5, 393242, 0, 5, 458778, 196608, 5, 524314, 65536, 5, 589850, 131072, 5, 65563, 196608, 5, 131099, 0, 5, 196635, 0, 5, 262171, 131072, 5, 327707, 196608, 5, 393243, 0, 5, 458779, 0, 5, 524315, 131072, 5, 589851, 131072, 5, 65564, 0, 5, 131100, 0, 5, 196636, 65536, 5, 262172, 131072, 5, 327708, 131072, 5, 393244, 0, 5, 458780, 131072, 5, 524316, 0, 5, 589852, 65536, 5, 131101, 196608, 5, 196637, 65536, 5, 262173, 65536, 5, 327709, 65536, 5, 393245, 0, 5, 458781, 65536, 5, 524317, 0, 5, 589828, 131072, 5, 720908, 131072, 5, 720909, 196608, 5, 720910, 196608, 5, 720911, 65536, 5, 720912, 131072, 5, 720913, 65536, 5, 851980, 65536, 5, 851981, 196608, 5, 851982, 65536, 5, 851983, 0, 5, 851984, 65536, 5, 851985, 0, 5, 983052, 0, 5, 983053, 131072, 5, 983054, 131072, 5, 983055, 65536, 5, 983056, 65536, 5, 983057, 65536, 5, 720906, 65536, 5, 851978, 65536, 5, 983050, 65536, 5, 720921, 196608, 5, 720922, 65536, 5, 720924, 196608, 5, 851996, 65536, 5, 983068, 196608, 5, 851993, 131072, 5, 851994, 196608, 5, 983065, 196608, 5, 983066, 131072, 5, 720898, 131072, 5, 786433, 196608, 5, 851969, 0, 5, 917505, 131072, 5, 983042, 131072, 5, 983043, 0, 5, 983044, 131072, 5, 983045, 0, 5, 917510, 0, 5, 851974, 0, 5, 786438, 196608, 5, 720901, 131072, 5, 720900, 196608, 5, 720899, 131072, 5, 786434, 0, 5, 786435, 0, 5, 786436, 65536, 5, 786437, 0, 5, 851973, 0, 5, 917509, 65536, 5, 917508, 65536, 5, 917507, 131072, 5, 917506, 0, 5, 851970, 0, 5, 851971, 0, 5, 851972, 65536, 5, 851992, 65536, 5, 983064, 131072, 5, 720920, 0, 5, 851989, 196608, 5, 983061, 65536, 5, 720917, 131072, 5, 720919, 65536, 5, 851991, 196608, 5, 983063, 65536, 5, 720902, 65536, 5, 786439, 131072, 5, 851975, 0, 5, 917511, 196608, 5, 983046, 196608, 5, 720914, 131072, 5, 851986, 196608, 5, 983058, 131072, 5, 65548, 196608, 5, 65551, 0, 5, 589836, 131072, 5, 589837, 131072, 5, 589838, 196608, 5, 589824, 131072, 6, 655361, 196608, 6, 655362, 0, 6, 655363, 196608, 6, 655364, 65536, 6, 655367, 196608, 6, 655368, 0, 6, 655369, 196608, 6, 655370, 0, 6, 655371, 65536, 6, 655372, 131072, 6, 655373, 0, 6, 655374, 196608, 6, 655377, 65536, 6, 655378, 131072, 6, 655379, 0, 6, 655380, 131072, 6, 655381, 0, 6, 655382, 196608, 6, 655383, 0, 6, 655384, 131072, 6, 655385, 65536, 6, 655386, 65536, 6, 655387, 65536, 6, 655388, 131072, 6, 589853, 131072, 6, 983041, 131072, 6, 983047, 131072, 6, 786442, 0, 6, 786444, 196608, 6, 786445, 65536, 6, 786446, 65536, 6, 786447, 131072, 6, 786448, 65536, 6, 786449, 196608, 6, 786450, 131072, 6, 917516, 131072, 6, 917517, 196608, 6, 917518, 65536, 6, 917519, 196608, 6, 917520, 0, 6, 917521, 65536, 6, 917522, 65536, 6, 917514, 0, 6, 1048586, 65536, 6, 1048578, 196608, 6, 1048579, 131072, 6, 1048580, 65536, 6, 1048581, 196608, 6, 1048582, 196608, 6, 786453, 0, 6, 917525, 196608, 6, 1048597, 65536, 6, 1048599, 0, 6, 1048600, 131072, 6, 1048601, 131072, 6, 1048602, 196608, 6, 917527, 65536, 6, 917528, 0, 6, 917529, 65536, 6, 917530, 131072, 6, 786455, 131072, 6, 786456, 65536, 6, 786457, 131072, 6, 786458, 196608, 6, 786460, 65536, 6, 917532, 65536, 6, 1048604, 65536, 6, 1048588, 131072, 6, 1048589, 131072, 6, 1048590, 0, 6, 1048591, 65536, 6, 1048592, 65536, 6, 1048593, 131072, 6, 1048594, 196608, 6, 393224, 65536, 5, 327690, 131072, 5, 262154, 196608, 5, 458769, 131072, 5, 262164, 131072, 5, 327700, 0, 5, 196629, 0, 5, 196630, 0, 5, 589829, 196608, 6, 524294, 196608, 6, 458759, 131072, 6, 327689, 65536, 6, 196619, 196608, 6, 131084, 196608, 6, 131094, 0, 6, 262165, 65536, 6, 327699, 0, 6, 393234, 0, 6, 524305, 0, 6, 524304, 0, 6, 589839, 196608, 6, 196620, 131072, 5, 458760, 196608, 5)

[node name="WallTilemap" type="TileMap" parent="Game"]
tile_set = SubResource("TileSet_n4ir7")
format = 2
layer_0/tile_data = PackedInt32Array(262145, 0, 1, 327681, 0, 1, 393217, 0, 1, 458753, 65536, 2, 458754, 196608, 3, 458756, 0, 2, 327686, 0, 1, 393222, 0, 1, 458758, 0, 2, 327690, 0, 1, 393226, 0, 1, 458762, 0, 2, 458760, 0, 2, 393224, 0, 1, 327688, 0, 1, 262150, 0, 1, 262154, 0, 1, 262156, 0, 1, 393228, 0, 1, 458764, 65536, 2, 458765, 131072, 3, 458779, 65536, 3, 196609, 0, 0, 196612, 0, 3, 196614, 65536, 0, 196615, 131072, 3, 196617, 131072, 3, 196618, 196608, 0, 262152, 0, 1, 196620, 65536, 0, 196621, 131072, 3, 327693, 131072, 3, 327692, 65536, 1, 196616, 131072, 0, 196624, 65536, 3, 196625, 131072, 0, 196628, 65536, 0, 196629, 131072, 3, 327707, 65536, 2, 196630, 131072, 3, 393220, 0, 1, 327684, 0, 0, 327700, 65536, 1, 327701, 131072, 3, 327702, 131072, 0, 196636, 196608, 3, 262171, 0, 1, 327708, 196608, 0, 393244, 0, 1, 458780, 196608, 2, 196635, 65536, 0, 196633, 0, 3, 327705, 0, 0, 393241, 0, 1, 458777, 0, 2, 196631, 196608, 0, 262167, 0, 1, 327703, 196608, 2, 393238, 0, 2, 458775, 0, 3, 262164, 0, 1, 393236, 0, 1, 458772, 0, 2, 262161, 0, 1, 327697, 0, 1, 393233, 0, 1, 458769, 0, 2, 196626, 196608, 3, 196622, 196608, 3, 327694, 196608, 3, 458766, 196608, 3)

[node name="OverlayContainer" type="Node2D" parent="Game"]
unique_name_in_owner = true

[node name="EntityContainer" type="Node2D" parent="Game"]
unique_name_in_owner = true

[node name="Camera2D" type="Camera2D" parent="Game"]
position = Vector2(960, 540)
script = ExtResource("2")

[node name="WorldEnvironment" type="WorldEnvironment" parent="Game"]
environment = SubResource("1")

[node name="Process" type="Node" parent="."]
process_mode = 3
editor_description = "Nodes in Process run while the game is paused. _process(), _input() and _unhandled_input() will always run. Add game state, transitions, menus, menu sounds and music in here. Handles general settings, like fullscreen switching and volume."
script = ExtResource("6_m6gji")
block_valid_color = Color(0, 1, 0, 0.588235)
block_invalid_color = Color(1, 0, 0, 0.588235)
heart_color = Color(0.968627, 0, 0, 1)

[node name="GameOverlay" parent="Process" instance=ExtResource("5")]
visible = false

[node name="DeathOverlay" parent="Process" instance=ExtResource("18_1gcbc")]
visible = false

[node name="TransitionOverlay" type="CanvasLayer" parent="Process"]
visible = false

[node name="Root" type="ColorRect" parent="Process/TransitionOverlay"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 1)

[node name="MainMenu" parent="Process" instance=ExtResource("3")]
visible = false
